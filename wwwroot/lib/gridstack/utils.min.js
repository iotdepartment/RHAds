function obsolete(t,o,n,r,i){var e=(...e)=>(console.warn("gridstack.js: Function `"+n+"` is deprecated in "+i+" and has been replaced with `"+r+"`. It will be **removed** in a future release"),o.apply(t,e));return e.prototype=o.prototype,e}function obsoleteOpts(e,t,o,n){void 0!==e[t]&&(e[o]=e[t],console.warn("gridstack.js: Option `"+t+"` is deprecated in "+n+" and has been replaced with `"+o+"`. It will be **removed** in a future release"))}function obsoleteOptsDel(e,t,o,n){void 0!==e[t]&&console.warn("gridstack.js: Option `"+t+"` is deprecated in "+o+n)}function obsoleteAttr(e,t,o,n){var r=e.getAttribute(t);null!==r&&(e.setAttribute(o,r),console.warn("gridstack.js: attribute `"+t+"`="+r+" is deprecated on this object in "+n+" and has been replaced with `"+o+"`. It will be **removed** in a future release"))}class Utils{static getElements(t,o=document){if("string"!=typeof t)return[t];{const r="getElementById"in o?o:void 0;var n;if(r&&!isNaN(+t[0]))return(n=r.getElementById(t))?[n]:[];let e=o.querySelectorAll(t);return e.length||"."===t[0]||"#"===t[0]||(e=o.querySelectorAll("."+t)).length||(e=o.querySelectorAll("#"+t)),Array.from(e)}}static getElement(t,o=document){if("string"!=typeof t)return t;{const n="getElementById"in o?o:void 0;if(!t.length)return null;if(n&&"#"===t[0])return n.getElementById(t.substring(1));if("#"===t[0]||"."===t[0]||"["===t[0])return o.querySelector(t);if(n&&!isNaN(+t[0]))return n.getElementById(t);let e=o.querySelector(t);return e=(e=n&&!e?n.getElementById(t):e)||o.querySelector("."+t)}}static lazyLoad(e){return e.lazyLoad||e.grid?.opts?.lazyLoad&&!1!==e.lazyLoad}static createDiv(e,t){const o=document.createElement("div");return e.forEach(e=>{e&&o.classList.add(e)}),t?.appendChild(o),o}static shouldSizeToContent(e,t=!1){return e?.grid&&(t?!0===e.sizeToContent||!0===e.grid.opts.sizeToContent&&void 0===e.sizeToContent:!!e.sizeToContent||e.grid.opts.sizeToContent&&!1!==e.sizeToContent)}static isIntercepted(e,t){return!(e.y>=t.y+t.h||e.y+e.h<=t.y||e.x+e.w<=t.x||e.x>=t.x+t.w)}static isTouching(e,t){return Utils.isIntercepted(e,{x:t.x-.5,y:t.y-.5,w:t.w+1,h:t.h+1})}static areaIntercept(e,t){var o=(e.x>t.x?e:t).x,n=e.x+e.w<t.x+t.w?e.x+e.w:t.x+t.w;if(n<=o)return 0;var r=(e.y>t.y?e:t).y,e=e.y+e.h<t.y+t.h?e.y+e.h:t.y+t.h;return e<=r?0:(n-o)*(e-r)}static area(e){return e.w*e.h}static sort(e,n=1){const r=1e4;return e.sort((e,t)=>{var o=n*((e.y??r)-(t.y??r));return 0==o?n*((e.x??r)-(t.x??r)):o})}static find(e,t){return t?e.find(e=>e.id===t):void 0}static toBool(e){return"boolean"==typeof e?e:"string"==typeof e?!(""===(e=e.toLowerCase())||"no"===e||"false"===e||"0"===e):Boolean(e)}static toNumber(e){return null===e||0===e.length?void 0:Number(e)}static parseHeight(e){let t,o="px";if("string"==typeof e)if("auto"===e||""===e)t=0;else{var n=e.match(/^(-[0-9]+\.[0-9]+|[0-9]*\.[0-9]+|-[0-9]+|[0-9]+)(px|em|rem|vh|vw|%|cm|mm)?$/);if(!n)throw new Error("Invalid height val = "+e);o=n[2]||"px",t=parseFloat(n[1])}else t=e;return{h:t,unit:o}}static defaults(o,...e){return e.forEach(e=>{for(const t in e){if(!e.hasOwnProperty(t))return;null===o[t]||void 0===o[t]?o[t]=e[t]:"object"==typeof e[t]&&"object"==typeof o[t]&&Utils.defaults(o[t],e[t])}}),o}static same(e,t){if("object"!=typeof e)return e==t;if(typeof e!=typeof t)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const o in e)if(e[o]!==t[o])return!1;return!0}static copyPos(e,t,o=!1){return void 0!==t.x&&(e.x=t.x),void 0!==t.y&&(e.y=t.y),void 0!==t.w&&(e.w=t.w),void 0!==t.h&&(e.h=t.h),o&&(t.minW&&(e.minW=t.minW),t.minH&&(e.minH=t.minH),t.maxW&&(e.maxW=t.maxW),t.maxH&&(e.maxH=t.maxH)),e}static samePos(e,t){return e&&t&&e.x===t.x&&e.y===t.y&&(e.w||1)===(t.w||1)&&(e.h||1)===(t.h||1)}static sanitizeMinMax(e){e.minW||delete e.minW,e.minH||delete e.minH,e.maxW||delete e.maxW,e.maxH||delete e.maxH}static removeInternalAndSame(e,t){if("object"==typeof e&&"object"==typeof t)for(var o in e){var n=e[o],r=t[o];"_"===o[0]||n===r?delete e[o]:n&&"object"==typeof n&&void 0!==r&&(Utils.removeInternalAndSame(n,r),Object.keys(n).length||delete e[o])}}static removeInternalForSave(e,t=!0){for(var o in e)"_"!==o[0]&&null!==e[o]&&void 0!==e[o]||delete e[o];delete e.grid,t&&delete e.el,e.autoPosition||delete e.autoPosition,e.noResize||delete e.noResize,e.noMove||delete e.noMove,e.locked||delete e.locked,1!==e.w&&e.w!==e.minW||delete e.w,1!==e.h&&e.h!==e.minH||delete e.h}static throttle(t,o){let n=!1;return(...e)=>{n||(n=!0,setTimeout(()=>{t(...e),n=!1},o))}}static removePositioningStyles(e){const t=e.style;t.position&&t.removeProperty("position"),t.left&&t.removeProperty("left"),t.top&&t.removeProperty("top"),t.width&&t.removeProperty("width"),t.height&&t.removeProperty("height")}static getScrollElement(e){if(!e)return document.scrollingElement||document.documentElement;var t=getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowY)?e:Utils.getScrollElement(e.parentElement)}static updateScrollPosition(e,t,o){const n=Utils.getScrollElement(e);var r,i,l,s;n&&(l=e.getBoundingClientRect(),r=n.getBoundingClientRect(),i=window.innerHeight||document.documentElement.clientHeight,i=l.bottom-Math.min(r.bottom,i),l=l.top-Math.max(r.top,0),s=n.scrollTop,l<0&&o<0?e.offsetHeight>r.height?n.scrollTop+=o:n.scrollTop+=Math.abs(l)>Math.abs(o)?o:l:0<i&&0<o&&(e.offsetHeight>r.height?n.scrollTop+=o:n.scrollTop+=o<i?o:i),t.top+=n.scrollTop-s)}static updateScrollResize(e,t,o){const n=Utils.getScrollElement(t);var t=n.clientHeight,r=n===Utils.getScrollElement()?0:n.getBoundingClientRect().top,e=e.clientY-r,r=t-o<e;e<o?n.scrollBy({behavior:"smooth",top:e-o}):r&&n.scrollBy({behavior:"smooth",top:o-(t-e)})}static clone(e){return null==e||"object"!=typeof e?e:e instanceof Array?[...e]:{...e}}static cloneDeep(e){const t=["parentGrid","el","grid","subGrid","engine"],o=Utils.clone(e);for(const n in o)o.hasOwnProperty(n)&&"object"==typeof o[n]&&"__"!==n.substring(0,2)&&!t.find(e=>e===n)&&(o[n]=Utils.cloneDeep(e[n]));return o}static cloneNode(e){const t=e.cloneNode(!0);return t.removeAttribute("id"),t}static appendTo(e,t){let o;(o="string"==typeof t?Utils.getElement(t):t)&&o.appendChild(e)}static addElStyles(t,e){if(e instanceof Object)for(const o in e)e.hasOwnProperty(o)&&(Array.isArray(e[o])?e[o].forEach(e=>{t.style[o]=e}):t.style[o]=e[o])}static initEvent(t,e){const o={type:e.type};e={button:0,which:0,buttons:1,bubbles:!0,cancelable:!0,target:e.target||t.target};return["altKey","ctrlKey","metaKey","shiftKey"].forEach(e=>o[e]=t[e]),["pageX","pageY","clientX","clientY","screenX","screenY"].forEach(e=>o[e]=t[e]),{...o,...e}}static simulateMouseEvent(e,t,o){t=new MouseEvent(t,{bubbles:!0,composed:!0,cancelable:!0,view:window,detail:1,screenX:e.screenX,screenY:e.screenY,clientX:e.clientX,clientY:e.clientY,ctrlKey:e.ctrlKey??!1,altKey:e.altKey??!1,shiftKey:e.shiftKey??!1,metaKey:e.metaKey??!1,button:0,relatedTarget:e.target});(o||e.target).dispatchEvent(t)}static getValuesFromTransformedElement(e){const t=document.createElement("div");Utils.addElStyles(t,{opacity:"0",position:"fixed",top:"0px",left:"0px",width:"1px",height:"1px",zIndex:"-999999"}),e.appendChild(t);var o=t.getBoundingClientRect();return e.removeChild(t),t.remove(),{xScale:1/o.width,yScale:1/o.height,xOffset:o.left,yOffset:o.top}}static swap(e,t,o){var n;e&&(n=e[t],e[t]=e[o],e[o]=n)}static canBeRotated(e){return!(!e||e.w===e.h||e.locked||e.noResize||e.grid?.opts.disableResize||e.minW&&e.minW===e.maxW||e.minH&&e.minH===e.maxH)}}export{obsolete,obsoleteOpts,obsoleteOptsDel,obsoleteAttr,Utils};