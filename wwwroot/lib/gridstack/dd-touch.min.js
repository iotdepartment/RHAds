import{DDManager}from"./dd-manager";import{Utils}from"./utils";const isTouch="undefined"!=typeof window&&"undefined"!=typeof document&&("ontouchstart"in document||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch||0<navigator.maxTouchPoints||0<navigator.msMaxTouchPoints);class DDTouch{}function simulateMouseEvent(e,o){1<e.touches.length||(e.cancelable&&e.preventDefault(),Utils.simulateMouseEvent(e.changedTouches[0],o))}function simulatePointerMouseEvent(e,o){e.cancelable&&e.preventDefault(),Utils.simulateMouseEvent(e,o)}function touchstart(e){DDTouch.touchHandled||(DDTouch.touchHandled=!0,simulateMouseEvent(e,"mousedown"))}function touchmove(e){DDTouch.touchHandled&&simulateMouseEvent(e,"mousemove")}function touchend(e){var o;DDTouch.touchHandled&&(DDTouch.pointerLeaveTimeout&&(window.clearTimeout(DDTouch.pointerLeaveTimeout),delete DDTouch.pointerLeaveTimeout),o=!!DDManager.dragElement,simulateMouseEvent(e,"mouseup"),o||simulateMouseEvent(e,"click"),DDTouch.touchHandled=!1)}function pointerdown(e){"mouse"!==e.pointerType&&e.target.releasePointerCapture(e.pointerId)}function pointerenter(e){DDManager.dragElement&&"mouse"!==e.pointerType&&simulatePointerMouseEvent(e,"mouseenter")}function pointerleave(e){DDManager.dragElement&&"mouse"!==e.pointerType&&(DDTouch.pointerLeaveTimeout=window.setTimeout(()=>{delete DDTouch.pointerLeaveTimeout,simulatePointerMouseEvent(e,"mouseleave")},10))}export{isTouch,touchstart,touchmove,touchend,pointerdown,pointerenter,pointerleave};